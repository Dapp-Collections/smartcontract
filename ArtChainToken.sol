/* 
 source code generate by Bui Dinh Ngoc aka ngocbd<buidinhngoc.aiti@gmail.com> for smartcontract ArtChainToken at 0x984c134a8809571993fd1573fb99f06dc61e216f
*/
pragma solidity ^0.4.21;
/**
 * Overflow aware uint math functions.
 *
 * Inspired by https://github.com/MakerDAO/maker-otc/blob/master/contracts/simple_market.sol
 */
contract SafeMath {
  //internals

  function safeMul(uint a, uint b) internal pure returns (uint) {
    uint c = a * b;
    assert(a == 0 || c / a == b);
    return c;
  }

  function safeSub(uint a, uint b) internal pure returns (uint) {
    assert(b <= a);
    return a - b;
  }

  function safeAdd(uint a, uint b) internal pure returns (uint) {
    uint c = a + b;
    assert(c>=a && c>=b);
    return c;
  }

  event Transfer(address indexed _from, address indexed _to, uint256 _value);
  event Approval(address indexed _owner, address indexed _spender, uint256 _value);
  event Burn(address indexed _from, uint256 _value);
}




/**
 * ERC 20 token
 *
 * https://github.com/ethereum/EIPs/issues/20
 */
contract StandardToken is SafeMath {

    /**
     * Reviewed:
     * - Interger overflow = OK, checked
     */
    function transfer(address _to, uint256 _value) public returns (bool success) {

        require(_to != 0X0);

        // ?? from ??? ?????? token? ????
        // ?? ???? ?? ? ??? ????
        if (balances[msg.sender] >= _value && balances[msg.sender] - _value < balances[msg.sender]) {

            // sender??? ?? ??token???? ?? safemath ??
            balances[msg.sender] = super.safeSub(balances[msg.sender], _value);
            // receiver??? ?? ??token???? ?? safemath ??
            balances[_to] = super.safeAdd(balances[_to], _value);

            emit Transfer(msg.sender, _to, _value);//??event
            return true;
        } else { return false; }
    }

    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success) {

        require(_to != 0X0);

        // ?? from ??? ?????? token? ????
        // ?? from ???owner? ???msg.sender?????????token?????
        // ?? ???? ?? ? ??? ????
        if (balances[_from] >= _value && allowed[_from][msg.sender] >= _value && balances[_from] - _value < balances[_from]) {

            // ? ??sender ? from??????? ?? ???? ??? ?? safemath ??
            allowed[_from][msg.sender] = super.safeSub(allowed[_from][msg.sender], _value);
            // from??? ?? ??token???? ?? safemath ??
            balances[_from] = super.safeSub(balances[_from], _value);
            // to??? ?? ??token???? ?? safemath ??
            balances[_to] = super.safeAdd(balances[_to], _value);

            emit Transfer(_from, _to, _value);//??event
            return true;
        } else { return false; }
    }

    function balanceOf(address _owner) public constant returns (uint256 balance) {
        return balances[_owner];
    }

    function approve(address _spender, uint256 _value) public returns (bool success) {
        // ???? msg.sender ???? ??spender????
        // ??spender?????? msg.sender ?????????token
        allowed[msg.sender][_spender] = _value;
        emit Approval(msg.sender, _spender, _value);
        return true;
    }

    function allowance(address _owner, address _spender) public constant returns (uint256 remaining) {
      // ?? spender ??? ??? owner ????token
      return allowed[_owner][_spender];
    }

    mapping(address => uint256) balances;

    mapping (address => mapping (address => uint256)) allowed;

    uint256 public totalSupply;
}










/*******************************************************************************
 *
 * Artchain Token  ????.
 *
 * version 15, 2018-05-28
 *
 ******************************************************************************/
contract ArtChainToken is StandardToken {

    // ??token???? ????????
    string public constant name = "Artchain Global Token";

    // ??token???? ????????
    string public constant symbol = "ACG";

    // ??? contract ????? ?????????? block
    uint public startBlock;

    //?? ????8????? e.g. ????? 0.00000001 ? token
    uint public constant decimals = 8;

    // ??? token ?????? (???? *10**uint(decimals))
    uint256 public totalSupply = 3500000000*10**uint(decimals); // 35?


    // founder?? - ??????
    address public founder = 0x3b7ca9550a641B2bf2c60A0AeFbf1eA48891e58b;
    // ???????founder_token = founder
    // ???? token ???(???????)??????
    // ?? founder ??? token ???? founder_token ??????????
    // ? founder_token ?????????????????????token???????????
    address public constant founder_token = 0x3b7ca9550a641B2bf2c60A0AeFbf1eA48891e58b;// founder_token=founder;


    // ????poi?? - ??????
    address public poi = 0x98d95A8178ff41834773D3D270907942F5BE581e;
    // ???????poi_token = poi
    // ???? token ???(???????)??????
    // ?? poi ??? token ???? poi_token ??????????
    // ? poi_token ???????????????? ?????token???????????
    address public constant poi_token = 0x98d95A8178ff41834773D3D270907942F5BE581e; // poi_token=poi


    // ???????, ???????????? token ?????? ????
    address public constant privateSale = 0x31F2F3361e929192aB2558b95485329494955aC4;


    // ????????/??
    // ???14?????block? ??block???? ????????
    // ?? 185143 ? block ?????????
    uint public constant one_month = 185143;// ----   ????
    uint public poiLockup = super.safeMul(uint(one_month), 7);  // poi ?? ????? 7??

    // ?? ????? ?? founder ?? ?????????
    bool public halted = false;



    /*******************************************************************
     *
     *  ????? ??
     *
     *******************************************************************/
    function ArtChainToken() public {
    //constructor() public {

        // ????????  startBlock????? block???
        startBlock = block.number;

        // ?founder 20% ? token? 35?? 20% ?7?  (???? *10**uint(decimals))
        balances[founder] = 700000000*10**uint(decimals); // 7?

        // ?poi?? 40% ? token? 35?? 40% ?14?
        balances[poi] = 1400000000*10**uint(decimals);   // 14?

        // ????? 40% ? token? 35?? 40% ?14?
        balances[privateSale] = 1400000000*10**uint(decimals); // 14?
    }


    /*******************************************************************
     *
     *  ????????? ?? founder ??????
     *
     *******************************************************************/
    function halt() public returns (bool success) {
        if (msg.sender!=founder) return false;
        halted = true;
        return true;
    }
    function unhalt() public returns (bool success) {
        if (msg.sender!=founder) return false;
        halted = false;
        return true;
    }


    /*******************************************************************
     *
     * ??founder/poi???? ?? “?founder” ????
     *
     * ?? token ???? founder_token ? poi_token?
     *
     *******************************************************************/
    function changeFounder(address newFounder) public returns (bool success){
        // ?? "?founder" ???? Founder???
        if (msg.sender!=founder) return false;
        founder = newFounder;
        return true;
    }
    function changePOI(address newPOI) public returns (bool success){
        // ?? "?founder" ???? poi???
        if (msg.sender!=founder) return false;
        poi = newPOI;
        return true;
    }




    /********************************************************
     *
     *  ?? ?????? token ????? ????? ????
     *
     ********************************************************/
    function transfer(address _to, uint256 _value) public returns (bool success) {

      // ?? ??? ”????“ ????? ????
      if (halted==true) return false;

      // poi_token ?? token? ?????????? ???????? ??? poiLockup ?block???
      if (msg.sender==poi_token && block.number <= startBlock + poiLockup)  return false;

      // founder_token ?? token? ??????48??????????7??
      if (msg.sender==founder_token){
        // ?6?? ??? founder_token ??? ?? ??? 100% (7??100% = 7?)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 6)  && super.safeSub(balanceOf(msg.sender), _value)<700000000*10**uint(decimals)) return false;
        // 6???12??  founder_token ??? ?? ??? 85% (7??85% = 5?9?5??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 12) && super.safeSub(balanceOf(msg.sender), _value)<595000000*10**uint(decimals)) return false;
        // 12???18?? founder_token ??? ?? ??? 70% (7??70% = 4?9??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 18) && super.safeSub(balanceOf(msg.sender), _value)<490000000*10**uint(decimals)) return false;
        // 18???24?? founder_token ??? ?? ??? 57.5% (7??57.5% = 4?0?2?5??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 24) && super.safeSub(balanceOf(msg.sender), _value)<402500000*10**uint(decimals)) return false;
        // 24???30?? founder_token ??? ?? ??? 45% (7??45% = 3?1?5??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 30) && super.safeSub(balanceOf(msg.sender), _value)<315000000*10**uint(decimals)) return false;
        // 30???36?? founder_token ??? ?? ??? 32.5% (7??32.5% = 2?2?7?5??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 36) && super.safeSub(balanceOf(msg.sender), _value)<227500000*10**uint(decimals)) return false;
        // 36???42?? founder_token ??? ?? ??? 20% (7??20% = 1?4??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 42) && super.safeSub(balanceOf(msg.sender), _value)<140000000*10**uint(decimals)) return false;
        // 42???48?? founder_token ??? ?? ??? 10% (7??10% = 7??)
        if (block.number <= startBlock + super.safeMul(uint(one_month), 48) && super.safeSub(balanceOf(msg.sender), _value)< 70000000*10**uint(decimals)) return false;
        // 48???? ????
      }

      //?????? ??????
      return super.transfer(_to, _value);
    }

    /********************************************************
     *
     *  ?? ?????? token ????? ????? ????
     *
     ********************************************************/
    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success) {
        // ?? ??? ”????“ ????? ????
        if (halted==true) return false;

        // poi_token ?? token? ?????????? ???????? ??? poiLockup ?block???
        if (_from==poi_token && block.number <= startBlock + poiLockup) return false;

        // founder_token ?? token? ??????48??????????7??
        if (_from==founder_token){
          // ?6?? ??? founder_token ??? ?? ??? 100% (7??100% = 7?)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 6)  && super.safeSub(balanceOf(_from), _value)<700000000*10**uint(decimals)) return false;
          // 6???12??  founder_token ??? ?? ??? 85% (7??85% = 5?9?5??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 12) && super.safeSub(balanceOf(_from), _value)<595000000*10**uint(decimals)) return false;
          // 12???18?? founder_token ??? ?? ??? 70% (7??70% = 4?9??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 18) && super.safeSub(balanceOf(_from), _value)<490000000*10**uint(decimals)) return false;
          // 18???24?? founder_token ??? ?? ??? 57.5% (7??57.5% = 4?0?2?5??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 24) && super.safeSub(balanceOf(_from), _value)<402500000*10**uint(decimals)) return false;
          // 24???30?? founder_token ??? ?? ??? 45% (7??45% = 3?1?5??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 30) && super.safeSub(balanceOf(_from), _value)<315000000*10**uint(decimals)) return false;
          // 30???36?? founder_token ??? ?? ??? 32.5% (7??32.5% = 2?2?7?5??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 36) && super.safeSub(balanceOf(_from), _value)<227500000*10**uint(decimals)) return false;
          // 36???42?? founder_token ??? ?? ??? 20% (7??20% = 1?4??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 42) && super.safeSub(balanceOf(_from), _value)<140000000*10**uint(decimals)) return false;
          // 42???48?? founder_token ??? ?? ??? 10% (7??10% = 7??)
          if (block.number <= startBlock + super.safeMul(uint(one_month), 48) && super.safeSub(balanceOf(_from), _value)< 70000000*10**uint(decimals)) return false;
          // 48???? ????
        }

        //?????? ??????
        return super.transferFrom(_from, _to, _value);
    }









    /***********************************************************??
     *
     * ?? ?????? tokens
     *
     ***********************************************************/
    function burn(uint256 _value) public returns (bool success) {

      // ?? ??? ”????“ ????? ????
      if (halted==true) return false;

      // poi_token ?? token? ?????????? ????? poiLockup ?block???
      if (msg.sender==poi_token && block.number <= startBlock + poiLockup) return false;

      // founder_token ?? token? ??????
      if (msg.sender==founder_token) return false;


      //?? ??? ?? ??? token ??? ????
      if (balances[msg.sender] < _value) return false;
      //?? ???? _value ???? ????
      if (balances[msg.sender] - _value > balances[msg.sender]) return false;


      // ????? ??? ???? ????

      // ??token????? ?? safemath
      balances[msg.sender] = super.safeSub(balances[msg.sender], _value);
      // ????token?? ???? ?? token????????? ?? safemath
      totalSupply = super.safeSub(totalSupply, _value);

      emit Burn(msg.sender, _value); //??event

      return true;

    }




    /***********************************************************??
     *
     * ?? ?????? tokens
     *
     ***********************************************************/
    function burnFrom(address _from, uint256 _value) public returns (bool success) {

      // ?? ??? ”????“ ????? ????
      if (halted==true) return false;

      // ?? ??? poi_token ?? token?
      // ???????????? ?????? poiLockup ?block????
      if (_from==poi_token && block.number <= startBlock + poiLockup) return false;

      // ????? founder_token ?? token? ????
      // founder_token ?? token? ??????
      if (_from==founder_token) return false;


      //?? ??? ?? ??? token ??? ????
      if (balances[_from] < _value) return false;
      //?? ??? ??? msg.sender ????? ??? token ??? ????
      if (allowed[_from][msg.sender] < _value) return false;
      //?? ???? _value ???? ????
      if (balances[_from] - _value > balances[_from]) return false;


      // ????? ??? ???? ????

      // from??? msg.sender????? token?? ???? ?? safemath
      allowed[_from][msg.sender] = super.safeSub(allowed[_from][msg.sender], _value);
      // ??token????? ?? safemath
      balances[_from] = super.safeSub(balances[_from], _value);
      // ????token?? ???? ?? token????????? ?? safemath
      totalSupply = super.safeSub(totalSupply, _value);

      emit Burn(_from, _value); //?? event

      return true;
  }
}